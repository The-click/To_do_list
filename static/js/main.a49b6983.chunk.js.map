{"version":3,"sources":["img/add.svg","img/timer.svg","components/InputAddNote.jsx","img/003-edit.svg","img/007-trash-1.svg","img/alarm-clock.svg","img/square.svg","img/mark.svg","components/EditTimer.jsx","components/Timer.jsx","components/Note.jsx","App.jsx","index.js"],"names":["InputAddNote","props","useState","value","setValue","startTimer","setStartTimer","hours","setHours","minutes","setMinutes","seconds","setSeconds","finishEdit","validateTime","time","max","className","onChange","e","target","trim","changeValue","onClick","timer","addNote","text","data","Date","src","plusImg","alt","length","timerImg","type","EditTimer","Math","floor","hour","second","id","setEditTimer","style","left","coor","top","allTime","changeTimer","Timer","setTime","useEffect","clock","timePositionRef","current","backgroundSize","toFixed","clearTimeout","setTimeout","padTime","String","showTime","Note","result","item","finish","myRef","useRef","coordinate","setCoordinate","editText","setEditText","editTimer","select","onBlur","relatedTarget","changeNote","saveChangeNote","ref","height","scrollHeight","closest","getBoundingClientRect","clockTimer","pencilImg","deleteNote","trash","changeFinishNote","squareImg","markImg","App","JSON","parse","localStorage","getItem","notes","setNotes","map","filter","note","setItem","stringify","noteWithoutTimer","noteWithTimer","forEach","index","push","sort","itemA","itemB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a49b6983.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/add.4c0ab963.svg\";","export default __webpack_public_path__ + \"static/media/timer.3e7f645b.svg\";","import plusImg from '../img/add.svg'\r\nimport timerImg from '../img/timer.svg'\r\nimport { useState } from \"react\";\r\n\r\nfunction InputAddNote(props){\r\n\r\n\tconst [value, setValue] = useState('');\r\n\t// date for timer\r\n\tconst [startTimer, setStartTimer] = useState(false)\r\n\tconst [hours,   setHours] = useState(0);\r\n\tconst [minutes, setMinutes] = useState(0);\r\n\tconst [seconds, setSeconds] = useState(0); \r\n\t// \r\n\r\n\tfunction addNewNote(){\r\n\t\tlet timer = (+hours * 3600 + (+minutes * 60) + +seconds) * 1000;\r\n\t\r\n\t\tif (value.trim() === '') return;\r\n\t\tprops.addNote({text:value.trim(), data: new Date(), timer: timer + +new Date()});\r\n\t\tfinishEdit()\r\n\t\r\n\t\t\r\n\t}\r\n\tfunction changeValue(e){\r\n\t\tsetValue(e.target.value);\r\n\t\tif (e.target.value.trim() === '') finishEdit()\t\r\n\t}\r\n\tfunction finishEdit(){\r\n\t\tsetValue('');\r\n\t\tsetHours(0);\r\n\t\tsetMinutes(0);\r\n\t\tsetSeconds(0);\t\r\n\t\tsetStartTimer(false);\r\n\r\n\t}\r\n\tfunction validateTime(time, max = 60){\r\n\t\treturn  (time >= 0 && time < max);\r\n\t}\r\n\t\t\r\n\treturn(<div className=\"addNote___wrapper\">\r\n\t\t<textarea className='inputAddNote' value={value} onChange={e =>changeValue(e) } />\r\n\t\t<button className=\"addNote__button\" onClick={addNewNote}>Добавить дело <img src={plusImg} alt=\"plus\" className=\"\" /></button>\r\n\t{value.trim().length > 0 && !startTimer && <button onClick={e => setStartTimer(true)} className='addNote__button addTimer__button'>Добавить таймер <img src={timerImg} alt=\"timer\" /></button>\r\n\t}\r\n\t{startTimer ? ( <div className='add__timer'>\r\n\t\t\t\t\t<div className=\"timer__time setting__time\"> \r\n\t\t\t\t\t<span>часы:</span><input type=\"number\" value={hours} onChange={e => { if (validateTime(e.target.value, 100)) setHours(e.target.value)}} />\r\n\t\t\t\t\t</div> <div className=\"timer__time\">\r\n\t\t\t\t\t\t<span>минуты:</span><input type=\"number\" value={minutes} onChange={e => {if (validateTime(e.target.value)) setMinutes(e.target.value)}} />\r\n\t\t\t\t\t</div> <div className=\"timer__time\">\r\n\t\t\t\t\t\t<span>секунды:</span><input type=\"number\" value={seconds} onChange={e => {if (validateTime(e.target.value)) setSeconds(e.target.value)}} />\r\n\t\t\t\t\t</div>\r\n\t</div>)  : <></>}\r\n\t</div>\r\n\t)\r\n}\r\n\r\nexport default InputAddNote","export default __webpack_public_path__ + \"static/media/003-edit.0851a9cb.svg\";","export default __webpack_public_path__ + \"static/media/007-trash-1.c49a10b9.svg\";","export default __webpack_public_path__ + \"static/media/alarm-clock.741fa381.svg\";","export default __webpack_public_path__ + \"static/media/square.654a649f.svg\";","export default __webpack_public_path__ + \"static/media/mark.5e230a9b.svg\";","import { useState } from \"react\";\r\n\r\nfunction EditTimer(props){\r\n\t\r\n\t\r\n\tconst [time] = useState(Math.floor((props.timer - new Date()) / 1000) > 0 ? props.timer : 0);\r\n\tconst [hour,   setHours] =    useState(time > 0 ?  Math.floor(((props.timer - new Date()) / 1000) / 3600) :0);\r\n\tconst [minutes, setMinutes] = useState(time > 0 ? Math.floor((((props.timer - new Date()) / 1000) % 3600) / 60):0);\r\n\tconst [second, setSeconds] =  useState(time > 0 ? Math.floor((((props.timer - new Date()) / 1000) % 3600) % 60):0); \r\n\r\n\tfunction saveChangeTimer(){\r\n\t\tlet allTime = ((hour * 3600 + minutes * 60 + +second) * 1000 + (+new Date()))\r\n\t\tprops.changeTimer(props.id, allTime);\r\n\t\tprops.setEditTimer(false);\r\n\t}\r\n\tfunction finishTimer(e){\r\n\t\tif (e.target.id === 'cover__timer') props.setEditTimer(false);\r\n\t\t\r\n\t}\r\n\tfunction validateTime(time, max = 60){\r\n\t\treturn  (time >= 0 && time < max);\r\n\t}\r\n\tfunction changeTime(){\r\n\t\t\r\n\t\treturn (<div id='changeTime' className=\"setting__time__wrapper\">\r\n\t\t\t        <div className='setting__time '> \r\n                       <span></span>\r\n                       <input type=\"number\" \r\n                              className='change-time' \r\n                              value={hour}    \r\n                              onChange={(e) => {if(validateTime(e.target.value, 100)) setHours(e.target.value);} }/>\r\n                    </div>\r\n\t\t\t        <div className='setting__time '> \r\n                        <span>:</span>\r\n                        <input type=\"number\" \r\n                               className='change-time'  \r\n                               value={minutes} \r\n                               onChange={(e) => {if(validateTime(e.target.value)) setMinutes(e.target.value);}}/> \r\n                    </div>\r\n\t\t\t        <div className='setting__time'> \r\n                        <span>:</span>\r\n                        <input type=\"number\" \r\n                               className='change-time'  \r\n                               value={second} \r\n                               onChange={(e) => {if(validateTime(e.target.value)) setSeconds(e.target.value);}}/>\r\n                    </div>\r\n\t\t\t\t</div>)\r\n\r\n\t}\r\n\treturn(<div className='change__time__cover' id='cover__timer' onClick={finishTimer}>\r\n            <div className='block__change__time change__time' \r\n                 style={{left:`${props.coor.left}px`, top:`${props.coor.top}px`}}> \r\n                 \r\n\t\t        {changeTime()} <button onClick={saveChangeTimer}>Сохранить изменение</button>\r\n\t        </div>\r\n           </div>\r\n\r\n\t)\r\n\r\n\r\n}\r\n\r\nexport default EditTimer;","import { useEffect, useState } from \"react\";\r\n\r\nfunction Timer(props){\r\n\tconst [time, setTime] = useState(Math.floor((props.timer - new Date()) / 1000));\r\n\tconst allTime = props.allTime;\r\n\r\n\t\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tlet clock;\r\n\t\t// change time line \r\n\t\tprops.timePositionRef.current.style.backgroundSize = `${(100 - (time / allTime) * 100 ).toFixed(3)}% 3px`;\r\n\r\n\t\tif (time <= 0){\r\n\t\t\tsetTime(0);\r\n\t\t\tclearTimeout(clock);\r\n\t\t}else{\r\n\t\t\t// conversion for correct time calculation\r\n\t\t\tclock = setTimeout(() => {setTime(time => Math.floor((props.timer - new Date()) / 1000));  setTimeout(clock, 1000)}, 1000);\r\n\t\t}\r\n\t\r\n\t\treturn () => {\r\n\t\t\tclearTimeout(clock)\r\n\t\t } }, [time, props.timer]);\r\n\r\n\r\n\tfunction showTime(time){\r\n\t\tconst hour = Math.floor(time > 0  ? (time / 3600) : 0);\r\n\t\tconst minutes = Math.floor(time > 0 ? ((time % 3600) / 60) : 0);\r\n\t\tconst second = (time > 0 ? ((time % 3600) % 60) : 0);\r\n\t\tfunction padTime(value){\r\n\t\t\treturn String(value).length === 1 ? `0${value}` : `${value}`;\r\n\t\t}\r\n\t\treturn `${padTime(hour)}:${padTime(minutes)}:${padTime(second)}`\r\n\t\r\n\t\t}\r\n\r\n\treturn showTime(time)\r\n}\r\n\r\nexport default Timer","import { useEffect, useRef, useState } from \"react\";\r\n\r\nimport pencilImg from '../img/003-edit.svg' \r\nimport trash from '../img/007-trash-1.svg'\r\nimport clockTimer from '../img/alarm-clock.svg'\r\n\r\nimport squareImg from '../img/square.svg';\r\nimport markImg from '../img/mark.svg';\r\nimport EditTimer from './EditTimer';\r\nimport Timer from './Timer';\r\n\r\nfunction Note(props){\r\n\tlet {text, timer, allTime, finish, id,} = props.item;\r\n\tconst myRef = useRef(null);\r\n\t\r\n\tconst timePositionRef = useRef(null);\r\n\r\n\tconst [coordinate, setCoordinate]= useState(null);\r\n\tconst [editText, setEditText] = useState(false);\r\n\tconst [editTimer, setEditTimer] = useState(false);\r\n\tconst [value, setValue] = useState(text);\t\r\n\t// let hiddenChangeTimer = timer ? {}:{background:'none'};\r\n\r\n\tfunction finishedNote(e){\r\n\t\tprops.changeFinishNote(id);\r\n\t}\r\n\t\t\t\r\n\tfunction changeNote(e){\r\n\t\tsetValue(e.target.value)\r\n\t\t// style textArea for height\r\n\t\te.target.style.height = e.target.scrollHeight + 'px';\r\n\t}\r\n\r\n\r\n\tfunction startEditText(e){\t\t\r\n\t\tsetEditText(true);\r\n\t}\r\n\r\n\r\n\tfunction startEditTimer(e){\r\n\t\tsetCoordinate(e.target.closest('li').getBoundingClientRect());\r\n\t\tsetEditTimer(true);\r\n\t}\r\n\t\r\n\tfunction saveChangeNote(e, id){\r\n\t\r\n\t\tif ((e.relatedTarget?.id === 'saveButton') && !(value.trim() === '')){\r\n\t\t\tprops.changeNote(value, id);\r\n\t\t\tsetValue(value.trim())\r\n\t\t}else{\r\n\t\t\tsetValue(text.trim())\r\n\t\t}\r\n\t\tsetEditText(false);\r\n\t}\r\n\t// Select textarea form for focus\r\n\tuseEffect(() => { if (!editText) return; myRef.current.select(); }, [editText])\r\n\t// \r\n\tlet result;\r\n\tif (editText){\t\r\n\t\tresult = (<div className=\"cover__change__note\">\r\n\t\t\t<div className=\"change__note__wrapper\" id=\"noteWrapper\" onBlur={e => saveChangeNote(e, id)} \r\n\t\t\t>\r\n\t\t\t<textarea className=\"changeInput\" value={value} ref={myRef} onChange={changeNote} /> \r\n\t\t\t<button className=\"save__button\" id=\"saveButton\">Сохранить</button></div></div>)\r\n\t}\r\n\telse {\t\r\n\t\tif(editTimer){\r\n\t\t\tresult = <EditTimer timer={timer} id={id} changeTimer={props.changeTimer} editTimer={editTimer} setEditTimer={setEditTimer} coor={coordinate}/>\r\n\t\t}else{\r\n\t\tresult = <>\r\n\t\t{timer && <button id='changeClock' className='button__clock button__hover'  onClick={startEditTimer} >\r\n\t\t\t         <img src={clockTimer} alt=\"clock\" />\r\n\t\t          </button>}\r\n\t\t<span className=\"note__text\"> {text} </span> \r\n\t\t<button id=\"changeNote\" className=\"button__change button__hover\" onClick={startEditText}>\r\n\t\t<img src={pencilImg} alt='Change not' />\r\n\t\t</button> <button id=\"deleteNote\" className=\"button__delete button__hover\"onClick={e => props.deleteNote(id)}> \r\n\t\t<img src={trash} alt=\"Delete note\" />\r\n\t\t</button>\r\n\t\t<button className='square button__hover' \r\n                onClick={finishedNote}>\r\n                    <img src={squareImg} alt=\"\" className=\"square__img\"/>\r\n                    <img className=\"mark\" src={markImg} alt=\"\" />\r\n\t\t<span className='mark__cover'></span>\r\n\t\t</button>\r\n\t\r\n\t\t</>}\r\n\t}\r\n\r\n\treturn(<li className={`note__li ${finish && 'finished'}` } >\r\n\t<div className={`note__wrapper ${timer ? '':'without__timer' }${(editTimer || editText) ? 'none':'' } `} ref={timePositionRef} >\r\n\t{result}\r\n\t{timer && !editTimer && <span className=\"note__time showTime\"><Timer timer={finish ? +new Date() : timer} allTime={allTime} editText={editText} timePositionRef={timePositionRef}/></span>}</div></li>)\r\n}\r\n\r\nexport default Note;","\r\nimport './App.css';\r\nimport React, {useState, useEffect} from 'react';\r\nimport id from 'react-uuid'\r\n\r\nimport InputAddNote from './components/InputAddNote';\r\nimport Note from './components/Note';\r\nfunction App() {\r\n\r\n\tconst [notes, setNotes] = useState(JSON.parse(localStorage.getItem('notes')) || [] );\r\n\tuseEffect(() => { localStorage.setItem('notes', JSON.stringify(notes))}, [notes]);\r\n\r\n\tfunction changeFinishNote(id){\r\n\t\tsetNotes(notes.map((item) =>{\r\n\t\t\tif (item.id === id){\r\n\t\t\t\treturn {...item, finish:!item.finish}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\treturn item\r\n\t\t\t}\r\n\t\t}))\r\n\t}\r\n\tfunction addNote({text, data, timer}){\r\n\t\tif (+data !== timer){\r\n\t\t\tsetNotes(([...notes, {text, data, timer, allTime:(Math.floor((timer - new Date()) / 1000)), finish:false, id: id()}]));\r\n\t\t}else{\r\n\t\t\tsetNotes(([...notes, {text, data, finish:false, id: id()}]));\r\n\r\n\t\t}\r\n\t}\r\n\tfunction changeNote(value, id){\t\r\n\t\r\n\t\tsetNotes(notes.map((item) => {\r\n\t\t\tif (item.id === id) {\r\n\r\n\t\t\t\treturn {...item, text:value.trim()}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\treturn item\r\n\t\t\t}\r\n\t\t}))\r\n\t}\r\n\tfunction changeTimer(id, timer){\r\n\t\t\r\n      setNotes(notes.map((item) => {\r\n\t\t\tif (item.id === id) {\r\n\t\t\t\treturn {...item, timer, allTime:(Math.floor((timer - new Date()) / 1000))}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\treturn item\r\n\t\t\t}\r\n\t\t}))\r\n\r\n\t}\r\n\tfunction deleteNote(id){\r\n\t\t\tsetNotes(notes.filter(note => note.id !== id))\r\n\t}\r\n\tconst noteWithoutTimer = [];\r\n\tconst noteWithTimer = [];\r\n\t\r\n\r\n\t\r\n\tnotes.forEach((item, index) => {\r\n\t\tif (item.timer) {\r\n\t\t\tnoteWithTimer.push(<Note key={item.id} \r\n\t\t\t\t\t\t\t\t\titem = {item} \r\n\t\t\t\t\t\t\t\t\tchangeNote={changeNote} \r\n\t\t\t\t\t\t\t\t\tdeleteNote={deleteNote} \r\n\t\t\t\t\t\t\t\t\tchangeTimer={changeTimer}\r\n\t\t\t\t\t\t\t\t\tchangeFinishNote={changeFinishNote}\r\n\t\t\t\t\t\t\t\t\t/>)\r\n\t\t}else{\r\n\t\treturn(  noteWithoutTimer.push(<Note key={item.id} \r\n\t\t\t\t\t\t\t\t\t\t\titem = {item} \r\n\t\t\t\t\t\t\t\t\t\t\tchangeNote={changeNote} \r\n\t\t\t\t\t\t\t\t\t\t\tdeleteNote={deleteNote}\r\n\t\t\t\t\t\t\t\t\t\t\tchangeFinishNote={changeFinishNote}/>))}\r\n\t})\r\n\t\r\n\r\n\r\n\treturn(<div className=\"wrapper\">\r\n\t\t\r\n\t\t<InputAddNote addNote={addNote} />\r\n\t\t<div className=\"notes__list__wrapper\">\r\n\t\t<ul className='notesList notes__with__timer'> \r\n\t\t<h3>Срочные дела</h3>{\r\n\t\t\t// Sorting by time\r\n\t\tnoteWithTimer.sort((itemA, itemB) =>+itemA.props.item.timer - +itemB.props.item.timer)\r\n\t\t}\r\n\r\n\t\t</ul>\r\n\t\t<ul className='notesList notes__without__timer'> \r\n\t\t<h3>Не срочные дела</h3>\r\n\t\t\t{noteWithoutTimer}\r\n\t\r\n\t\t</ul>\r\n\t\t</div>\r\n\t</div>)\r\n}\r\n\r\n// Add note \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default App;\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App.jsx';\r\n\r\nReactDOM.render( < React.StrictMode >\r\n    <App / >\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}