(this["webpackJsonptodo-hook"]=this["webpackJsonptodo-hook"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),i=a(9),s=a.n(i),r=(a(14),a(8)),o=a(3),l=a(2),u=(a(15),a(7)),j=a.n(u),m=a.p+"static/media/add.4c0ab963.svg",b=a.p+"static/media/timer.3e7f645b.svg",d=a(0);var h=function(e){var t=Object(c.useState)(""),a=Object(l.a)(t,2),n=a[0],i=a[1],s=Object(c.useState)(!1),r=Object(l.a)(s,2),o=r[0],u=r[1],j=Object(c.useState)(0),h=Object(l.a)(j,2),O=h[0],_=h[1],g=Object(c.useState)(0),f=Object(l.a)(g,2),v=f[0],x=f[1],p=Object(c.useState)(0),N=Object(l.a)(p,2),w=N[0],S=N[1];function T(){i(""),_(0),x(0),S(0),u(!1)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return e>=0&&e<t}return Object(d.jsxs)("div",{className:"addNote___wrapper",children:[Object(d.jsx)("textarea",{className:"inputAddNote",value:n,onChange:function(e){return function(e){i(e.target.value),""===e.target.value.trim()&&T()}(e)}}),Object(d.jsxs)("button",{className:"addNote__button",onClick:function(){var t=1e3*(3600*+O+60*+v+ +w);""!==n.trim()&&(e.addNote({text:n.trim(),data:new Date,timer:t+ +new Date}),T())},children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0435\u043b\u043e ",Object(d.jsx)("img",{src:m,alt:"plus",className:""})]}),n.trim().length>0&&!o&&Object(d.jsxs)("button",{onClick:function(e){return u(!0)},className:"addNote__button addTimer__button",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0439\u043c\u0435\u0440 ",Object(d.jsx)("img",{src:b,alt:"timer"})]}),o?Object(d.jsxs)("div",{className:"add__timer",children:[Object(d.jsxs)("div",{className:"timer__time setting__time",children:[Object(d.jsx)("span",{children:"\u0447\u0430\u0441\u044b:"}),Object(d.jsx)("input",{type:"number",value:O,onChange:function(e){k(e.target.value,100)&&_(e.target.value)}})]})," ",Object(d.jsxs)("div",{className:"timer__time",children:[Object(d.jsx)("span",{children:"\u043c\u0438\u043d\u0443\u0442\u044b:"}),Object(d.jsx)("input",{type:"number",value:v,onChange:function(e){k(e.target.value)&&x(e.target.value)}})]})," ",Object(d.jsxs)("div",{className:"timer__time",children:[Object(d.jsx)("span",{children:"\u0441\u0435\u043a\u0443\u043d\u0434\u044b:"}),Object(d.jsx)("input",{type:"number",value:w,onChange:function(e){k(e.target.value)&&S(e.target.value)}})]})]}):Object(d.jsx)(d.Fragment,{})]})},O=a.p+"static/media/003-edit.0851a9cb.svg",_=a.p+"static/media/007-trash-1.c49a10b9.svg",g=a.p+"static/media/alarm-clock.741fa381.svg",f=a.p+"static/media/square.654a649f.svg",v=a.p+"static/media/mark.5e230a9b.svg";var x=function(e){var t=Object(c.useState)(Math.floor((e.timer-new Date)/1e3)>0?e.timer:0),a=Object(l.a)(t,1)[0],n=Object(c.useState)(a>0?Math.floor((e.timer-new Date)/1e3/3600):0),i=Object(l.a)(n,2),s=i[0],r=i[1],o=Object(c.useState)(a>0?Math.floor((e.timer-new Date)/1e3%3600/60):0),u=Object(l.a)(o,2),j=u[0],m=u[1],b=Object(c.useState)(a>0?Math.floor((e.timer-new Date)/1e3%3600%60):0),h=Object(l.a)(b,2),O=h[0],_=h[1];function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return e>=0&&e<t}return Object(d.jsx)("div",{className:"change__time__cover",id:"cover__timer",onClick:function(t){"cover__timer"===t.target.id&&e.setEditTimer(!1)},children:Object(d.jsxs)("div",{className:"block__change__time change__time",style:{left:"".concat(e.coor.left,"px"),top:"".concat(e.coor.top,"px")},children:[Object(d.jsxs)("div",{id:"changeTime",className:"setting__time__wrapper",children:[Object(d.jsxs)("div",{className:"setting__time ",children:[Object(d.jsx)("span",{}),Object(d.jsx)("input",{type:"number",className:"change-time",value:s,onChange:function(e){g(e.target.value,100)&&r(e.target.value)}})]}),Object(d.jsxs)("div",{className:"setting__time ",children:[Object(d.jsx)("span",{children:":"}),Object(d.jsx)("input",{type:"number",className:"change-time",value:j,onChange:function(e){g(e.target.value)&&m(e.target.value)}})]}),Object(d.jsxs)("div",{className:"setting__time",children:[Object(d.jsx)("span",{children:":"}),Object(d.jsx)("input",{type:"number",className:"change-time",value:O,onChange:function(e){g(e.target.value)&&_(e.target.value)}})]})]})," ",Object(d.jsx)("button",{onClick:function(){var t=1e3*(3600*s+60*j+ +O)+ +new Date;e.changeTimer(e.id,t),e.setEditTimer(!1)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435"})]})})};var p=function(e){var t=Object(c.useState)(Math.floor((e.timer-new Date)/1e3)),a=Object(l.a)(t,2),n=a[0],i=a[1],s=e.allTime;return Object(c.useEffect)((function(){var t;return e.timePositionRef.current.style.backgroundSize="".concat((100-n/s*100).toFixed(3),"% 3px"),n<=0?(i(0),clearTimeout(t)):t=setTimeout((function(){i((function(t){return Math.floor((e.timer-new Date)/1e3)})),setTimeout(t,1e3)}),1e3),function(){clearTimeout(t)}}),[n,e.timer]),function(e){var t=Math.floor(e>0?e/3600:0),a=Math.floor(e>0?e%3600/60:0),c=e>0?e%3600%60:0;function n(e){return 1===String(e).length?"0".concat(e):"".concat(e)}return"".concat(n(t),":").concat(n(a),":").concat(n(c))}(n)};var N=function(e){var t,a=e.item,n=a.text,i=a.timer,s=a.allTime,r=a.finish,o=a.id,u=Object(c.useRef)(null),j=Object(c.useRef)(null),m=Object(c.useState)(null),b=Object(l.a)(m,2),h=b[0],N=b[1],w=Object(c.useState)(!1),S=Object(l.a)(w,2),T=S[0],k=S[1],C=Object(c.useState)(!1),D=Object(l.a)(C,2),y=D[0],M=D[1],E=Object(c.useState)(n),F=Object(l.a)(E,2),B=F[0],R=F[1];return Object(c.useEffect)((function(){T&&u.current.select()}),[T]),t=T?Object(d.jsx)("div",{className:"cover__change__note",children:Object(d.jsxs)("div",{className:"change__note__wrapper",id:"noteWrapper",onBlur:function(t){return function(t,a){var c;"saveButton"===(null===(c=t.relatedTarget)||void 0===c?void 0:c.id)&&""!==B.trim()?(e.changeNote(B,a),R(B.trim())):R(n.trim()),k(!1)}(t,o)},children:[Object(d.jsx)("textarea",{className:"changeInput",value:B,ref:u,onChange:function(e){R(e.target.value),e.target.style.height=e.target.scrollHeight+"px"}}),Object(d.jsx)("button",{className:"save__button",id:"saveButton",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})}):y?Object(d.jsx)(x,{timer:i,id:o,changeTimer:e.changeTimer,editTimer:y,setEditTimer:M,coor:h}):Object(d.jsxs)(d.Fragment,{children:[i&&Object(d.jsx)("button",{id:"changeClock",className:"button__clock button__hover",onClick:function(e){N(e.target.closest("li").getBoundingClientRect()),M(!0)},children:Object(d.jsx)("img",{src:g,alt:"clock"})}),Object(d.jsxs)("span",{className:"note__text",children:[" ",n," "]}),Object(d.jsx)("button",{id:"changeNote",className:"button__change button__hover",onClick:function(e){k(!0)},children:Object(d.jsx)("img",{src:O,alt:"Change not"})})," ",Object(d.jsx)("button",{id:"deleteNote",className:"button__delete button__hover",onClick:function(t){return e.deleteNote(o)},children:Object(d.jsx)("img",{src:_,alt:"Delete note"})}),Object(d.jsxs)("button",{className:"square button__hover",onClick:function(t){e.changeFinishNote(o)},children:[Object(d.jsx)("img",{src:f,alt:"",className:"square__img"}),Object(d.jsx)("img",{className:"mark",src:v,alt:""}),Object(d.jsx)("span",{className:"mark__cover"})]})]}),Object(d.jsx)("li",{className:"note__li ".concat(r&&"finished"),children:Object(d.jsxs)("div",{className:"note__wrapper ".concat(i?"":"without__timer").concat(y||T?"none":""," "),ref:j,children:[t,i&&!y&&Object(d.jsx)("span",{className:"note__time showTime",children:Object(d.jsx)(p,{timer:r?+new Date:i,allTime:s,editText:T,timePositionRef:j})})]})})};var w=function(){var e=Object(c.useState)(JSON.parse(localStorage.getItem("notes"))||[]),t=Object(l.a)(e,2),a=t[0],n=t[1];function i(e){n(a.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{finish:!t.finish}):t})))}function s(e,t){n(a.map((function(a){return a.id===t?Object(o.a)(Object(o.a)({},a),{},{text:e.trim()}):a})))}function u(e,t){n(a.map((function(a){return a.id===e?Object(o.a)(Object(o.a)({},a),{},{timer:t,allTime:Math.floor((t-new Date)/1e3)}):a})))}function m(e){n(a.filter((function(t){return t.id!==e})))}Object(c.useEffect)((function(){localStorage.setItem("notes",JSON.stringify(a))}),[a]);var b=[],O=[];return a.forEach((function(e,t){if(!e.timer)return b.push(Object(d.jsx)(N,{item:e,changeNote:s,deleteNote:m,changeFinishNote:i},e.id));O.push(Object(d.jsx)(N,{item:e,changeNote:s,deleteNote:m,changeTimer:u,changeFinishNote:i},e.id))})),Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(h,{addNote:function(e){var t=e.text,c=e.data,i=e.timer;n([].concat(Object(r.a)(a),+c!==i?[{text:t,data:c,timer:i,allTime:Math.floor((i-new Date)/1e3),finish:!1,id:j()()}]:[{text:t,data:c,finish:!1,id:j()()}]))}}),Object(d.jsxs)("div",{className:"notes__list__wrapper",children:[Object(d.jsxs)("ul",{className:"notesList notes__with__timer",children:[Object(d.jsx)("h3",{children:"\u0421\u0440\u043e\u0447\u043d\u044b\u0435 \u0434\u0435\u043b\u0430"}),O.sort((function(e,t){return+e.props.item.timer-+t.props.item.timer}))]}),Object(d.jsxs)("ul",{className:"notesList notes__without__timer",children:[Object(d.jsx)("h3",{children:"\u041d\u0435 \u0441\u0440\u043e\u0447\u043d\u044b\u0435 \u0434\u0435\u043b\u0430"}),b]})]})]})};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.a49b6983.chunk.js.map